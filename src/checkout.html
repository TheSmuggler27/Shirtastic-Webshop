<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Checkout</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>Checkout</h2>

  <form id="checkoutForm">
    <input type="text" id="name" placeholder="Name" required><br>
    <input type="text" id="address" placeholder="Adresse" required><br>
    <button type="submit">Bestellung abschicken</button>
  </form>

  <p id="checkoutMsg"></p>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const checkoutForm = document.getElementById("checkoutForm");

      checkoutForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const name = document.getElementById("name").value;
        const address = document.getElementById("address").value;
        const cart = JSON.parse(localStorage.getItem("cart") || "[]");

        if (cart.length === 0) {
          document.getElementById("checkoutMsg").textContent = "Ihr Warenkorb ist leer.";
          return;
        }

        const order = {
          name,
          address,
          items: cart,
          date: new Date().toLocaleString()
        };

        localStorage.setItem("order", JSON.stringify(order));
        localStorage.removeItem("cart");

        document.getElementById("checkoutMsg").textContent = "Bestellung erfolgreich! Vielen Dank.";
      });
    });
  </script>
</body>
</html>
